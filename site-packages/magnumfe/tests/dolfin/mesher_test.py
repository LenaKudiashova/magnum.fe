import unittest
from dolfin import *
from magnumfe import *
import numpy

class MesherTest(unittest.TestCase):

    def setUp(self):
      self.mesher = Mesher()

    def test_create_shell(self):
      # create and mesh sample
      self.mesher.create_cuboid((3.0, 2.0, 1.0), (15, 10, 5))

      # create and mesh shell
      self.mesher.create_shell(1);
      mesh_with_shell = self.mesher.mesh()
      self.assertEqual(mesh_with_shell.num_cells(), 5640)
      self.assertEqual(mesh_with_shell.num_vertices(), 1188)

    def test_get_sample_size(self):
      self.mesher.create_cuboid((3.0, 2.0, 1.0), (15, 10, 5))
      size = self.mesher.get_sample_size()

      self.assertEqual(size[0], 3.0)
      self.assertEqual(size[1], 2.0)

if __name__ == '__main__':
    unittest.main()
