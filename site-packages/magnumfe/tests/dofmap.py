from magnumfe import *
from dolfin import *

mesh = UnitCube(1, 1, 1)
VS = FunctionSpace(mesh, "CG", 1)
VV = VectorFunctionSpace(mesh, "CG", 1)

a = interpolate(Constant((2, 3, 4)), VV)
b = interpolate(Constant((1, 2, 3)), VV).vector()

scalar_product = ScalarProductMatrix(VS, VV, a)
A = DofAssembler.assemble(scalar_product)

normalized_vector = NormalizedVector(VV, a)


print A.array()
print (A*b).array()

print "normalized"
print DofAssembler.assemble(normalized_vector).array()
